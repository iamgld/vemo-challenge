<nb-card accent="success" nbSpinnerStatus="success" nbSpinnerSize="giant" [nbSpinner]="isLoading">
	<nb-card-body>
		<table
			nbSort
			class="table"
			accent="success"
			[nbTreeGrid]="dataSource"
			(sort)="changeSort($event)"
		>
			<tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
			<tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>

			<!-- Name Columns -->
			<ng-container nbTreeGridColumnDef="name">
				<th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef [nbSortHeader]="getDirection('name')">
					Name
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.name }}
				</td>
			</ng-container>
			<!-- Capitals Columns -->
			<ng-container nbTreeGridColumnDef="capital">
				<th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef [nbSortHeader]="getDirection('capital')">
					Capitals
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.capital }}
				</td>
			</ng-container>
			<!-- Currencies Columns -->
			<ng-container nbTreeGridColumnDef="currency">
				<th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef [nbSortHeader]="getDirection('currency')">
					Currencies
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.currency }}
				</td>
			</ng-container>
			<!-- Continents Columns -->
			<ng-container nbTreeGridColumnDef="continent">
				<th
					nbTreeGridHeaderCell
					*nbTreeGridHeaderCellDef
					[nbSortHeader]="getDirection('continent')"
				>
					Continents
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.continent }}
				</td>
			</ng-container>
			<!-- Languages Columns -->
			<ng-container nbTreeGridColumnDef="language">
				<th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef [nbSortHeader]="getDirection('language')">
					Languages
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.language }}
				</td>
			</ng-container>
			<!-- Population Columns -->
			<ng-container nbTreeGridColumnDef="population">
				<th
					nbTreeGridHeaderCell
					*nbTreeGridHeaderCellDef
					[nbSortHeader]="getDirection('population')"
				>
					Population
				</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					{{ row.data.population | number }}
				</td>
			</ng-container>
			<!-- Flag Columns -->
			<ng-container nbTreeGridColumnDef="flag">
				<th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef>Flag</th>
				<td
					nbTreeGridCell
					class="td--center"
					*nbTreeGridCellDef="let row"
					(click)="openDialog(row.data)"
				>
					<img
						class="flag__image"
						nbTooltipStatus="primary"
						[nbTooltip]="row.data.flag.imageAlt"
						[src]="row.data.flag.imageUrl"
						[alt]="row.data.flag.imageAlt"
					/>
				</td>
			</ng-container>
		</table>
	</nb-card-body>
</nb-card>
